<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../../js/jquery-3.1.1.min.js" th:src="@{/js/jquery-3.1.1.min.js}"></script>
</head>
<body>

<form   enctype="multipart/form-data"  id="avatarformid"  >

    <input type="file" accept="image/*" name="uploadFile" />
    <button onclick="tach()">hhh</button>
</form>
<script type="text/javascript">

    function tach() {
        var formData = new FormData($("#avatarformid")[0]);
       // var upl = document.getElementById("avatarformid");
        $.ajax({
            url: '/file/upload',
            type: 'POST',
            data:formData,
            async: false,
            cache: false,
            contentType: false,
            processData: false,
            success: function(data){
                console.log('成功')
            },
            error : function() {
                toastr.error("error!");
                console.log('失败')
            }
        })
    }
    //$("#submitEditAvatar").on("click", function () {

</script>
</body>
</html>